<div class="container">
    <div class="col-sm-6 col-sm-offset-3">
        <h1>{{ title }}</h1>
        <div class="alert alert-danger" *ngIf="errorLabel" role="alert">{{ errorLabel }}</div>
        <form [ngFormModel]="loginFormModel">
            <div class="form-group">
                <label>Email</label>
                <input [(ngModel)]="user.username" type="text" class="form-control" ngControl="email" >
                <div *ngIf="email.hasError('required') && email.dirty" class="has-error">
                    <div class="help-block">Email is missing</div>
                </div>
                <div *ngIf="email.hasError('invalidEmail') && email.dirty" class="has-error">
                    <div class="help-block">Must enter a valid email address</div>
                </div>                
            </div>
            <div class="form-group">
                <label>Password</label>
                <input [(ngModel)]="user.password" type="password" class="form-control" ngControl="password">
                <div *ngIf="password.hasError('required') && password.dirty" class="has-error">
                    <div class="help-block">Password is missing</div>
                </div>
                <div *ngIf="password.hasError('minlength') && password.dirty" class="has-error">
                    <div class="help-block">Must be 5 or more chars</div>
                </div>                
            </div>
            <button (click)="login()" type="submit" [disabled]="!loginFormModel.valid"
            class="btn btn-warning btn-lg">Login</button>
        </form>

        <hr *ngIf="canReset">

        <p *ngIf="canReset">Forgot password? <a [routerLink]="['/login/forgot']">Reset login</a></p>

    </div>
</div>